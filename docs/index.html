<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	<title>CGBâ™­</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.4.3/webcomponents-bundle.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet"/>
	<script src="tone.js"></script>
</head>
<body>

<button id="play">play</button>
<button id="stop">stop</button>
<div>Right mouse click and "View Source" to see code</div>

	<script type="text/javascript">

    /// THIS IS THE CODE

    const feedbackDelay = new Tone.PingPongDelay({
      delayTime: "16n",
      feedback: 0.6,
      wet: 0.5
    }).toDestination();

    const instrument = new Tone.MembraneSynth({
      pitchDecay: 0.008,
      octaves: 2,
      envelope: {
        attack: 0.0006,
        decay: 0.5,
        sustain: 0
      }
    }).connect(feedbackDelay);

    const instrumentPart = new Tone.Sequence(((time, pitch) => {
      instrument.triggerAttack(pitch, time, Math.random()*0.5 + 0.5);
    }), ["C4", "G4", "A#4", null], "4n").start(0);

    Tone.Transport.bpm.value = 115;


    const play = document.getElementById('play');
    const stop = document.getElementById('stop');

    play.addEventListener("click", function(){
      Tone.start();
      Tone.Transport.start();
    });

    stop.addEventListener("click", function(){
      Tone.Transport.stop();
    });


	</script>


</body>
</html>
